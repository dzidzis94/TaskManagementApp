@model TaskManagementApp.Models.TemplateSection

<div class="list-group-item bg-transparent" style="border-bottom: 1px solid var(--border-color);">
    <div class="d-flex w-100 justify-content-between align-items-center">
        <div>
            <h5 class="mb-1" style="color: var(--text-color);">@Model.Title</h5>
            <p class="mb-1" style="color: var(--text-muted);">@Model.Description</p>
        </div>
        <div>
            <a asp-controller="TemplateSections" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-sm btn-outline-primary me-1">Edit</a>
            <form asp-controller="TemplateSections" asp-action="Delete" asp-route-id="@Model.Id" method="post" class="d-inline">
                <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('Are you sure you want to delete this section?');">Delete</button>
            </form>
        </div>
    </div>

    @if (Model.ChildSections.Any())
    {
        <div class="list-group mt-3 ps-3" style="border-left: 2px solid var(--border-color);">
            @foreach (var childSection in Model.ChildSections)
            {
                @await Html.PartialAsync("_SectionRow", childSection)
            }
        </div>
    }
</div>
